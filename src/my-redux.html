<link rel="import" href="../bower_components/polymer-redux/polymer-redux.html">

<script>
        var getShowInviteLink = window.localStorage.getItem("showInviteLink");
          if(getShowInviteLink){ 
             showInviteLink = false
          } else {
              showInviteLink = true
          }
          var getLanguage = window.localStorage.getItem("language");
          if(getLanguage){
              language = getLanguage
          } else {
              language = 'English'
          }

    let initialState = {
        showInviteLink: showInviteLink,
        showInvite: false,
        showLogin: false,
        loggedIn: false,
        drawer: false,
        language: language
    };

    let reducer = function(state, action){
        if(!state){ 
            return initialState
        };
        switch(action.type){
            case 'PROVIDER':
                let provider = state.provider;
                provider  = action.provider;
                return Object.assign({}, state, {provider: provider})
            case 'DRAWER':
                let drawer = state.drawer;
                drawer  = action.drawer;
                return Object.assign({}, state, {drawer: drawer})
            case 'MOBILE':
                let mobile = state.mobile;
                mobile  = action.mobile;
                return Object.assign({}, state, {mobile: mobile})
            case 'USER':
                let user = state.user;
                user  = action.user;
                return Object.assign({}, state, {user: user})
            case 'LANGUAGE':
                let language = state.language;
                language  = action.language;
                return Object.assign({}, state, {language: language})
            case 'SHOW_INVITE_LINK':
                let showInviteLink = state.showInviteLink;
                showInviteLink  = action.showInviteLink;
                return Object.assign({}, state, {showInviteLink: showInviteLink})
            case 'SHOW_INVITE':
                let showInvite = state.showInvite;
                showInvite  = action.showInvite;
                return Object.assign({}, state, {showInvite: showInvite})
            case 'SHOW_LOGIN':
                let showLogin = state.showLogin;
                showLogin  = action.showLogin;
                return Object.assign({}, state, {showLogin: showLogin})
        }
    }
    const store = Redux.createStore(reducer, /* preloadedState, */
    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()
    );
    const ReduxMixin = PolymerRedux(store);
</script>